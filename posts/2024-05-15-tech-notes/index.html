<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.0">
     
     
    
    <link rel="canonical" href="https://github.com/cyruscyliu/cyruscyliu.github.io/posts/2024-05-15-tech-notes/"><link rel="icon" type="image/png" sizes="192x192" href="../../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../../img/favicon-32x32.png" />


    
 
<title>Tech notes on 20240513 - Qiang Liu's Homepage</title>


<link href="../../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../../css/normalize.css" rel="stylesheet">
<link href="../../css/terminal.css" rel="stylesheet">
<link href="../../css/theme.css" rel="stylesheet">
<link href="../../css/theme.tile_grid.css" rel="stylesheet">
<link href="../../css/theme.footer.css" rel="stylesheet">
<!-- default color palette -->
<link href="../../css/palettes/default.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 4fr 9fr;
    }
}</style>



     
    
    

    
    <!-- search css support -->
<link href="../../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "../..",
    shortcuts = "{}";
</script>
<script src="../../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="../../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="https://github.com/cyruscyliu/cyruscyliu.github.io/" class="no-style">Qiang Liu's Homepage</a></div>
        </header>
        
        <nav class="terminal-menu">
            
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../.." class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Home</span>
                    </a>
                    <meta property="position" content="0">
                </li>
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Posts</span>
                    </a>
                    <meta property="position" content="1">
                </li>
                
                    
                    


<li property="itemListElement" typeof="ListItem">
    <a href="#" class="menu-item" data-toggle="modal" data-target="#mkdocs_search_modal" property="item" typeof="SearchAction">
        <i aria-hidden="true" class="fa fa-search"></i> <span property="name">Search</span>
    </a>
    <meta property="position" content="2">
</li>
                    
            </ul>
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
    <ul class="terminal-mkdocs-side-nav-items">
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../..">Home</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../">Posts</a>
        
    
    
    
  </li>
        
    </ul>
  
</nav><hr>
<nav>
    <ul>
        <li><a href="#tech-notes-on-20240513">Tech notes on 20240513</a></li>
        
    </ul>
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
    
    
    
    
    

<section id="mkdocs-terminal-content">
    <h1 id="tech-notes-on-20240513">Tech notes on 20240513<a class="headerlink" href="#tech-notes-on-20240513" title="Do what you think is right">#</a></h1>
<ul>
<li>How does script interpreter work?<ul>
<li>The finalizer of an object is invoked as soon as the refcount of the
object becomes 0. There are at most thousands of ways to trigger finalizers.</li>
<li>Weak reference prevents objected from not being collected.</li>
<li>As soon as an exception is raised, the control flow goes to the main loop
via setjmp/longjmp without unwinding (causing memory leaks =&gt; refcount-based
GC won't work =&gt; it needs mark-and-sweep-based GC) or explicity error
propagation (refcount-based GC is working =&gt; no memory leaks).</li>
<li>Exceptions are handled before executing each bytecode (after stack unwinding).</li>
<li>try: finally: can have double returns.</li>
<li>Generators have a lot of exception handling issues because generators handle
heap-based stacks as well.</li>
<li>Type is defined by its behavior that is defined by magic methods (duck typing).</li>
<li>No security policy is enforced when using magic methods.</li>
</ul>
</li>
<li><a href="https://en.wikipedia.org/wiki/Language_interoperability">Language
interoperability</a>:
Language interoperability is the capability of two different programming
languages to natively interact as part of the same system and operate on the
same kind of data structures. There are three methods for interoperability.
Object models: COM (COM is a very ambiguous term. It can be a <a href="https://en.wikipedia.org/wiki/COM_file">COM
format</a>, a <a href="https://en.wikipedia.org/wiki/COM_(hardware_interface)">COM
port</a>, and Common Object
Model, a binary interface introduced by Microsoft); Virtual Machine (a
specialised intermediate language that different languages compile down to):
Java Virtual Machine; foreign function interfaces (FFI), that is in the format
of a wrapper library, also called bindings: JNI/JNA/<a href="https://www.swig.org/tutorial.html">SWIG</a>.</li>
<li>Challenges when implementing language interoperability<ul>
<li>Object model differences: e.g., permit multiple inheritance or not</li>
<li>Memory model differences: e.g., have garbage collector or not</li>
<li>Mutability: e.g., immutable or not</li>
</ul>
</li>
<li>Favocado (NDSS'21): JS engines are embedded in commercial software, e.g.,
Adobe Acrobat Reader, Foxit PDF Reader, Chromium, and WebKit. Even without
considering the binding layers, it is difficult to effectively fuzz JavaScript
engines in the first place. To generate syntactically correct JavaScript code as
test cases, modern JavaScript engine fuzzers use context-free grammars  or
existing semantically correct test cases. While no JavaScript fuzzers generate
fully semantically correct code as test cases, some fuzzers can generate test
cases in a semantic-aware manner. However, the percentage of rejected test cases
that are generated by these semantic-aware fuzzers is still a significant
problem.  Another challenge for effectively fuzzing the binding layer is the
enormous input space, e.g., in Chromium, there are more than 1,000 DOM binding
objects. Each DOM object may have a multitude of methods and properties, some
of which may require hard-to-satisfy arguments such as other DOM objects.</li>
<li>Drawbacks of Favocado<ul>
<li>From Minerva: Although Favocado also generates semantically-correct test
cases, its typebased relations introduce redundant relations between APIs.
Besides, its conservative generation strategy only choose a few interface
objects in each test case, hindering the fuzzer from state space
exploration.</li>
<li>From SAGE: Favocado extracts semantic information from browsersâ€™ source
code, it doesn't make good use of them. Its semantic information is
maintained in a JSON-like structure instead of CFG, which make it difficult
to effectively generate highly-structured inputs. Additionally, its flawed
implementation makes it challenging to bypass syntactic checks. Favocado can
only explore a limited set of browser backend logic.</li>
</ul>
</li>
<li>Cooper (NDSS'22):<ul>
<li>In this paper, we propose cooperative mutation, which modifies both the
script code and the program native input to trigger bugs in binding code. We
develop three novel techniques to enable practical cooperative mutation on
popular scripting languages: we first cluster objects into semantics similar
classes to reduce the mutation space of native inputs; then, we
statistically infer the relationship between script code and object classes
based on a large number of executions; at last, we use the inferred
relationship to select proper objects and related script code for targeted
mutation.  We applied our tool, COOPER, on three popular systems that
integrate scripting languages, including Adobe Acrobat, Foxit Reader and
Microsoft Word. COOPER successfully found 134 previously unknown bugs.</li>
</ul>
</li>
<li>TypeOracle (ICSE'23):<ul>
<li>Full name: Operand-Variation-Oriented Differential Analysis for Fuzzing
Binding Calls in PDF Readers</li>
<li>The parameter types of a binding call are inferred by executing the
binding call with different values of different types and investigating
which types cause an expected effect on the instruction operands. The
inferred type information is used to guide the test generation in fuzzing.</li>
</ul>
</li>
<li>Gramatron (ISSTA'21)<ul>
<li>A fuzzer must generate syntactically valid inputs to fuzz beyond the
application parser. Previous fuzzers employ parse trees with CFG for input
generation and mutation. Existing grammar-aware fuzzers are ineffective at
synthesizing complex bug triggers due to biased sampling and localized
small-scale mutations.  Gramatron performs an automatic two-step
transformation on the CFG to create a grammar automaton. First, it
transforms the CFG into its GNF which performs the grammar restructuring.
Second, it converts the GNF of the grammar into an automaton. Gramatron can
encode any input that abides by the grammar as an automaton walk. Grammar
automatons restructure the grammar enabling the fuzzer to perform unbiased
sampling from the input state space.  This enable the fuzzer to generate
inputs with higher diversity more frequently. We also redesign the mutation
operators to operate on grammar automatons and perform aggressive changes
efficiently to discover bugs with complex triggers.</li>
</ul>
</li>
<li>C# is also a memory safe language.</li>
</ul>
</section>

<section id="mkdocs-terminal-after-content">
    
</section>
<section id="mkdocs-terminal-revision">
<br>
<aside>
    <p>
        <small>
            <i>Page last updated 2024-10-20. </i>
        </small>
    </p>
</aside>
</section>
            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>